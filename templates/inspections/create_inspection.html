{% extends "base.html" %}

{% block title %}Create Inspection - CertiBuy{% endblock %}

{% block content %}
<section class="auth-container">
    <div class="container-premium" style="max-width: 700px;">
        <div class="auth-card">
            <div class="auth-header">
                <div style="font-size: 3rem; margin-bottom: 1rem;">
                    <i class="fas fa-clipboard-list" style="color: var(--accent-blue);"></i>
                </div>
                <h1 class="auth-title">Create Inspection</h1>
                <p class="auth-subtitle">Schedule inspection for: {{ submission.product_name }}</p>
            </div>
            
            <form method="post">
                {% csrf_token %}
                
                <div style="background: rgba(37, 99, 235, 0.1); border-left: 4px solid var(--accent-blue); padding: 1rem 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                    <p style="color: var(--text-primary); margin: 0;">
                        <strong>Seller:</strong> {{ submission.seller.username }}<br>
                        <strong>Category:</strong> {{ submission.category }}<br>
                        <strong>Expected Price:</strong> ${{ submission.expected_price }}
                    </p>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-user-shield"></i> Inspector *
                    </label>
                    <select name="inspector" class="form-control" required>
                        <option value="">Select Inspector</option>
                        {% for inspector in inspectors %}
                        <option value="{{ inspector.id }}">{{ inspector.get_full_name }} ({{ inspector.username }})</option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-calendar"></i> Inspection Date *
                    </label>
                    <input type="datetime-local" name="inspection_date" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-star"></i> Condition Grade *
                    </label>
                    <select name="condition_grade" class="form-control" required>
                        <option value="">Select Grade</option>
                        <option value="new">New</option>
                        <option value="excellent">Excellent</option>
                        <option value="good">Good</option>
                        <option value="fair">Fair</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-file-alt"></i> Inspection Notes *
                    </label>
                    <textarea name="inspection_notes" class="form-control" rows="5" placeholder="Enter detailed inspection notes..." required></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-check-circle"></i> Status *
                    </label>
                    <select name="status" class="form-control" required>
                        <option value="pending">Pending</option>
                        <option value="completed">Completed</option>
                        <option value="approved">Approved (Will create product)</option>
                        <option value="rejected">Rejected</option>
                    </select>
                    <span class="form-text">
                        <i class="fas fa-info-circle"></i> Selecting "Approved" will automatically create the product
                    </span>
                </div>
                
                <div class="submit-btn-wrapper">
                    <button type="submit" class="btn-auth">
                        <i class="fas fa-check"></i> Create Inspection
                    </button>
                    <a href="{% url 'sellers:my_submissions' %}" class="btn-secondary-custom" style="text-align: center; text-decoration: none; padding: 1rem 2rem; border-radius: 10px; flex: 1;">
                        <i class="fas fa-times"></i> Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}
